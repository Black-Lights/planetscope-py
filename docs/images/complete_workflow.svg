<svg width="1200" height="400" viewBox="0 0 1200 400" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="stepGrad1" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#007acc;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#005c99;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="stepGrad2" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#28a745;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e7e34;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="stepGrad3" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fd7e14;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#e55100;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="stepGrad4" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#6f42c1;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#5a2d91;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <marker id="arrow" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#495057"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="400" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2c3e50">
    Complete PlanetScope-py Workflow Process
  </text>
  
  <!-- Panel 1: ROI Selection -->
  <g transform="translate(50, 60)">
    <rect x="0" y="0" width="240" height="200" rx="10" fill="url(#stepGrad1)" filter="url(#shadow)"/>
    <text x="120" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      1. Interactive ROI Selection
    </text>
    
    <!-- Map interface mockup -->
    <rect x="20" y="40" width="200" height="120" rx="5" fill="white" opacity="0.9"/>
    <rect x="25" y="45" width="190" height="110" rx="3" fill="#e9ecef"/>
    
    <!-- Drawing tools -->
    <rect x="30" y="50" width="30" height="100" fill="white" stroke="#dee2e6"/>
    <circle cx="45" cy="65" r="3" fill="#007acc"/>
    <polygon points="40,80 50,80 50,90 40,90" fill="none" stroke="#007acc" stroke-width="2"/>
    <rect x="40" y="100" width="10" height="8" fill="none" stroke="#007acc" stroke-width="2"/>
    
    <!-- Map area with polygon -->
    <rect x="70" y="50" width="140" height="100" fill="#a8dadc"/>
    <polygon points="120,80 160,70 170,110 130,120 100,100" fill="none" stroke="#dc3545" stroke-width="3" stroke-dasharray="5,5"/>
    <circle cx="120" cy="80" r="2" fill="#dc3545"/>
    <circle cx="160" cy="70" r="2" fill="#dc3545"/>
    <circle cx="170" cy="110" r="2" fill="#dc3545"/>
    
    <text x="120" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Draw polygon on interactive map
    </text>
  </g>
  
  <!-- Arrow 1 -->
  <line x1="300" y1="160" x2="340" y2="160" stroke="#495057" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Panel 2: Preview -->
  <g transform="translate(350, 60)">
    <rect x="0" y="0" width="240" height="200" rx="10" fill="url(#stepGrad2)" filter="url(#shadow)"/>
    <text x="120" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      2. Satellite Imagery Preview
    </text>
    
    <!-- Satellite imagery grid -->
    <rect x="20" y="40" width="200" height="120" rx="5" fill="white" opacity="0.9"/>
    <rect x="30" y="50" width="40" height="40" fill="#8fbc8f"/>
    <rect x="75" y="50" width="40" height="40" fill="#daa520"/>
    <rect x="120" y="50" width="40" height="40" fill="#4682b4"/>
    <rect x="165" y="50" width="40" height="40" fill="#8fbc8f"/>
    <rect x="30" y="95" width="40" height="40" fill="#daa520"/>
    <rect x="75" y="95" width="40" height="40" fill="#4682b4"/>
    <rect x="120" y="95" width="85" height="40" fill="#8fbc8f"/>
    
    <!-- Quality indicators -->
    <circle cx="50" cy="70" r="8" fill="white" opacity="0.8"/>
    <text x="50" y="73" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#28a745">✓</text>
    <circle cx="140" cy="70" r="8" fill="white" opacity="0.8"/>
    <text x="140" y="73" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#dc3545">✗</text>
    
    <!-- ROI overlay -->
    <polygon points="80,70 140,65 150,105 100,115 70,95" fill="none" stroke="#dc3545" stroke-width="2" stroke-dasharray="3,3"/>
    
    <text x="120" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Preview scenes with quality filtering
    </text>
  </g>
  
  <!-- Arrow 2 -->
  <line x1="600" y1="160" x2="640" y2="160" stroke="#495057" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Panel 3: Analysis -->
  <g transform="translate(650, 60)">
    <rect x="0" y="0" width="240" height="200" rx="10" fill="url(#stepGrad3)" filter="url(#shadow)"/>
    <text x="120" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      3. Spatial Analysis
    </text>
    
    <!-- Analysis visualization -->
    <rect x="20" y="40" width="200" height="120" rx="5" fill="white" opacity="0.9"/>
    
    <!-- Density heatmap -->
    <rect x="30" y="50" width="25" height="25" fill="#ff4444" opacity="0.8"/>
    <rect x="60" y="50" width="25" height="25" fill="#ff8844" opacity="0.8"/>
    <rect x="90" y="50" width="25" height="25" fill="#ffcc44" opacity="0.8"/>
    <rect x="120" y="50" width="25" height="25" fill="#44ff44" opacity="0.8"/>
    <rect x="150" y="50" width="25" height="25" fill="#4444ff" opacity="0.8"/>
    <rect x="180" y="50" width="25" height="25" fill="#8844ff" opacity="0.8"/>
    
    <rect x="30" y="80" width="25" height="25" fill="#ff8844" opacity="0.8"/>
    <rect x="60" y="80" width="25" height="25" fill="#ffcc44" opacity="0.8"/>
    <rect x="90" y="80" width="25" height="25" fill="#44ff44" opacity="0.8"/>
    <rect x="120" y="80" width="25" height="25" fill="#4444ff" opacity="0.8"/>
    <rect x="150" y="80" width="25" height="25" fill="#8844ff" opacity="0.8"/>
    <rect x="180" y="80" width="25" height="25" fill="#44ffff" opacity="0.8"/>
    
    <!-- Statistics panel -->
    <rect x="30" y="110" width="175" height="40" fill="#f8f9fa" stroke="#dee2e6"/>
    <text x="35" y="125" font-family="Courier, monospace" font-size="9" fill="#495057">Mean density: 2.4 scenes/km²</text>
    <text x="35" y="137" font-family="Courier, monospace" font-size="9" fill="#495057">Total scenes: 847</text>
    <text x="35" y="149" font-family="Courier, monospace" font-size="9" fill="#495057">Coverage: 94.2%</text>
    
    <text x="120" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Generate density maps &amp; statistics
    </text>
  </g>
  
  <!-- Arrow 3 -->
  <line x1="900" y1="160" x2="940" y2="160" stroke="#495057" stroke-width="3" marker-end="url(#arrow)"/>
  
  <!-- Panel 4: Results -->
  <g transform="translate(950, 60)">
    <rect x="0" y="0" width="240" height="200" rx="10" fill="url(#stepGrad4)" filter="url(#shadow)"/>
    <text x="120" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">
      4. Professional Outputs
    </text>
    
    <!-- File outputs -->
    <rect x="20" y="40" width="200" height="120" rx="5" fill="white" opacity="0.9"/>
    
    <!-- File icons -->
    <rect x="30" y="50" width="80" height="45" fill="#e9ecef" stroke="#adb5bd"/>
    <text x="70" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#495057">density.tif</text>
    <text x="70" y="82" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6c757d">GeoTIFF</text>
    
    <rect x="120" y="50" width="80" height="45" fill="#e9ecef" stroke="#adb5bd"/>
    <text x="160" y="68" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#495057">analysis.png</text>
    <text x="160" y="82" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6c757d">Visualization</text>
    
    <rect x="30" y="105" width="80" height="45" fill="#e9ecef" stroke="#adb5bd"/>
    <text x="70" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#495057">metadata.json</text>
    <text x="70" y="137" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6c757d">Statistics</text>
    
    <rect x="120" y="105" width="80" height="45" fill="#e9ecef" stroke="#adb5bd"/>
    <text x="160" y="123" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#495057">style.qml</text>
    <text x="160" y="137" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#6c757d">QGIS Style</text>
    
    <text x="120" y="180" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="white">
      Export ready-to-use files
    </text>
  </g>
  
  <!-- Bottom workflow summary -->
  <rect x="50" y="280" width="1100" height="80" rx="10" fill="white" stroke="#dee2e6" stroke-width="2" filter="url(#shadow)"/>
  <text x="600" y="305" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#2c3e50">
    Complete Workflow: From Visual Selection to Professional Analysis
  </text>
  <text x="600" y="325" text-anchor="middle" font-family="Arial, sans-serif" font-size="13" fill="#495057">
    jupyter_roi_selector("milan") → quick_preview_with_shapely(...) → jupyter_quick_analysis(...) → Professional GIS outputs
  </text>
  <text x="600" y="345" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#6c757d">
    No manual coordinate coding • Real imagery preview • Quality filtering • Ready-to-use results
  </text>
</svg>